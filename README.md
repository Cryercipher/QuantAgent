# QuantAgent

QuantAgent æ˜¯ä¸€ä¸ªåŸºäºå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„é‡åŒ–é‡‘èæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨ä¸ºæŠ•èµ„è€…æä¾›å®æ—¶çš„å¸‚åœºæ´å¯Ÿã€æ·±åº¦çš„é‡åŒ–é£é™©åˆ†æä»¥åŠä¸“ä¸šçš„é‡‘èç†è®ºæ”¯æŒã€‚å®ƒé›†æˆäº† Tushare è¡Œæƒ…æ•°æ®ã€ä¸“ä¸šé‡åŒ–æ¨¡å‹ï¼ˆGARCH/VaRï¼‰ã€RAG çŸ¥è¯†åº“å’Œäº¤äº’å¼å›¾è¡¨ç”ŸæˆåŠŸèƒ½ã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

- **ğŸ“ˆ æ·±åº¦è¡Œæƒ…åˆ†æ**
  - å®æ—¶æŸ¥è¯¢è‚¡ç¥¨ä»·æ ¼ã€æ¶¨è·Œå¹…åŠæˆäº¤é‡ã€‚
  - æ”¯æŒæŸ¥è¯¢æŒ‡å®šæ—¥æœŸèŒƒå›´çš„**åŸå§‹è¡Œæƒ…æ•°æ®**ï¼ˆOHLCVï¼‰ï¼Œå¹¶ä»¥ç»“æ„åŒ–è¡¨æ ¼å‘ˆç°ã€‚
  - è‡ªåŠ¨æ¨¡ç³ŠåŒ¹é…è‚¡ç¥¨åç§°ä¸ä»£ç ï¼ˆå¦‚â€œä¹å·ç”µåŠ¨â€ -> â€œä¹å·å…¬å¸â€ï¼‰ã€‚

- **ğŸ§® é‡åŒ–é£é™©è¯„ä¼°**
  - å¤šå‘¨æœŸæ”¶ç›Šç‡ä¸æ³¢åŠ¨ç‡åˆ†æï¼ˆ5/20/60/120æ—¥ï¼‰ã€‚
  - **é£é™©æŒ‡æ ‡è®¡ç®—**ï¼šå†å²æ³¢åŠ¨ç‡ã€GARCH é¢„æµ‹æ³¢åŠ¨ç‡ã€95% VaRï¼ˆåœ¨é™©ä»·å€¼ï¼‰ã€CVaRï¼ˆæ¡ä»¶åœ¨é™©ä»·å€¼ï¼‰åŠæœ€å¤§å›æ’¤ã€‚

- **ğŸ“š é‡‘è RAG çŸ¥è¯†åº“**
  - åŸºäºå‘é‡æ•°æ®åº“ï¼ˆChromaDBï¼‰çš„æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰ã€‚
  - æä¾›å‡†ç¡®çš„é‡‘èæœ¯è¯­å®šä¹‰ã€äº¤æ˜“è§„åˆ™è§£é‡Šå’Œç†è®ºä¾æ®ï¼Œé¿å…æ¨¡å‹å¹»è§‰ã€‚

- **ğŸ“Š äº¤äº’å¼å›¾è¡¨**
  - è‡ªåŠ¨ç”Ÿæˆè¿‘æœŸ K çº¿å›¾ï¼ˆæ”¯æŒå‡çº¿ã€æˆäº¤é‡ï¼‰ã€‚
  - å›¾è¡¨ç›´æ¥åµŒå…¥å¯¹è¯æµï¼Œç›´è§‚å±•ç¤ºå¸‚åœºèµ°åŠ¿ã€‚

![CleanShot 2025-12-04 at 10 49 11](https://github.com/user-attachments/assets/4347f6ea-36b4-4379-bd50-557b72a8f03d)

![CleanShot 2025-12-04 at 11 43 44](https://github.com/user-attachments/assets/aa5fc326-b88c-450d-9583-f229294490ff)

![CleanShot 2025-12-04 at 11 45 57](https://github.com/user-attachments/assets/b4057b77-0c2b-40d3-bfce-d45bab8c20bc)


## ğŸ“‚ é¡¹ç›®ç»“æ„

```text
QuantAgent/
â”œâ”€â”€ config/             # å…¨å±€é…ç½® (è·¯å¾„, Token, æ¨¡å‹å‚æ•°)
â”œâ”€â”€ core/               # æ ¸å¿ƒå¼•æ“
â”‚   â”œâ”€â”€ agent_runtime.py    # Agent è¿è¡Œæ—¶ä¸çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ llm_factory.py      # LLM ä¸ Embedding æ¨¡å‹åŠ è½½å·¥å‚
â”œâ”€â”€ data/               # æ•°æ®å­˜å‚¨
â”‚   â”œâ”€â”€ cache/              # è¡Œæƒ…ä¸å›¾è¡¨ç¼“å­˜
â”‚   â”œâ”€â”€ chroma_db/          # å‘é‡æ•°æ®åº“æ–‡ä»¶
â”‚   â””â”€â”€ rules_text/         # RAG åŸå§‹è¯­æ–™
â”œâ”€â”€ frontend/           # å‰ç«¯ç•Œé¢ (Vanilla JS + SSE)
â”œâ”€â”€ prompts/            # Prompt å·¥ç¨‹ (System Prompts)
â”œâ”€â”€ scripts/            # å®ç”¨è„šæœ¬
â”‚   â”œâ”€â”€ cli_chat.py         # å‘½ä»¤è¡Œå¯¹è¯æµ‹è¯•å·¥å…·
â”‚   â””â”€â”€ crawl_stock_doc.py  # çŸ¥è¯†åº“çˆ¬è™«å·¥å…·
â”œâ”€â”€ tools/              # å·¥å…·ç®±
â”‚   â”œâ”€â”€ chart_visualizer.py # Kçº¿å›¾ç”Ÿæˆå·¥å…·
â”‚   â”œâ”€â”€ knowledge_base.py   # RAG æ£€ç´¢å·¥å…·
â”‚   â””â”€â”€ quant_analysis.py   # è¡Œæƒ…ä¸é‡åŒ–åˆ†æå·¥å…·
â”œâ”€â”€ utils/              # é€šç”¨å·¥å…· (æ—¥å¿—, äº‹ä»¶æ€»çº¿)
â”œâ”€â”€ server.py           # åç«¯å¯åŠ¨å…¥å£
â””â”€â”€ requirements.txt    # é¡¹ç›®ä¾èµ–
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

ç¡®ä¿å·²å®‰è£… Python 3.10+ã€‚

```bash
# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

é¡¹ç›®ä¾èµ– Tushare è·å–è¡Œæƒ…æ•°æ®ã€‚è¯·ç¡®ä¿åœ¨ `config/settings.py` ä¸­é…ç½®äº†æœ‰æ•ˆçš„ Tokenï¼Œæˆ–è®¾ç½®ç¯å¢ƒå˜é‡ï¼š

```bash
export TUSHARE_TOKEN="your_tushare_token_here"
```

### 3. å¯åŠ¨åç«¯æœåŠ¡

åç«¯åŸºäº FastAPIï¼Œæä¾› SSE æµå¼æ¥å£ã€‚

```bash
# å¯åŠ¨æœåŠ¡ (é»˜è®¤ç«¯å£ 8000)
uvicorn server:app --host 0.0.0.0 --port 8000 --reload
```

### 4. å¯åŠ¨å‰ç«¯é¡µé¢

å‰ç«¯ä¸ºçº¯é™æ€é¡¹ç›®ï¼Œå¯ç›´æ¥é€šè¿‡ HTTP æœåŠ¡å™¨è¿è¡Œã€‚

```bash
cd frontend
python -m http.server 8080
```

è®¿é—®æµè§ˆå™¨ï¼š[http://localhost:8080](http://localhost:8080)

## ğŸ› ï¸ å¼€å‘ä¸æµ‹è¯•

- **å‘½ä»¤è¡Œæµ‹è¯•**ï¼šä¸ä¾èµ–å‰ç«¯ï¼Œç›´æ¥åœ¨ç»ˆç«¯ä¸ Agent å¯¹è¯ã€‚
  ```bash
  python scripts/cli_chat.py
  ```

- **çŸ¥è¯†åº“æ›´æ–°**ï¼š
  å°†æ–°çš„ `.txt` æˆ– `.md` æ–‡ä»¶æ”¾å…¥ `data/rules_text/`ï¼Œé‡å¯æœåŠ¡åç³»ç»Ÿä¼šè‡ªåŠ¨é‡å»ºç´¢å¼•ã€‚


